{% extends "toolkit_controls_base.html" %}

{% load splunkmvc %}
{% load wftoolkit %}

{% block title %}Calendar Heatmap{% endblock title %}

{% block css %}
{{block.super}}
{% endblock css %}

  {% block heading %}Calendar Heatmap{% endblock heading %}

  {% block explanation %}Calendar Heatmap.{% endblock explanation %}

  {% block example %}
    {% calheat 
        id="myheat"
        managerid="search1"
        value="$searchtoken$"|token_safe
        maxSeries=1
        domain="day"
        subdomain="hour"
    %}
  {% endblock example %}

{% block managers %}

  {% searchmanager id="search1"
    search='index=_internal sourcetype=splunkd metrics | head 10000 | timechart count by group span=1m'
  %}

{% endblock managers %}

{% block js %}
<script>
  require(["splunkjs/ready!"], function(mvc) {
    var heat = mvc.Components.getInstance("myheat");
    heat.settings.set("options", {
      //define options here
      legend: [2, 5, 10, 20, 50],
    });
  });
</script>

{% endblock js %}
