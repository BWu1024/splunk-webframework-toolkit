{% extends "splunkdj:base_with_app_bar.html" %}

{% load splunkmvc %}

{% block title %}Toolkit Overview {% endblock title %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{{STATIC_URL}}splunk_wftoolkit/home.css" />
    <link rel="stylesheet" type="text/css" href="{{STATIC_URL}}splunkjs/css/dashboard.css" />
    <style type="text/css">
        .main-section-body{
            width: 960px;
            margin: 0 auto;
        }
        img{
            height: 100px;
        }
    </style>
{% endblock css %}

{% block content %}

<div class="dashboard-body container-fluid main-section-body">
    <div class="dashboard-header clearfix">
        <h2>Splunk Web Framework Toolkit </h2>
    </div>
    <p>This app contains a collection of examples that show you how to use the components of the Web Framework. You'll find documentation and reference information, along with code templates to help you get started. You can view all of the examples in action in this app, but then be sure to look at the source code in <b>/splunk_wftoolkit/django/splunk_wftoolkit/</b> to see how it's done.</p>

    <div class="section-nav">
        <ul class="nav-buttons">
            <li>
                <a data-section="basiccomponents" href="#basiccomponents">
                    <span class="icon-distributed-environment"></span>
                    Basic Components
                </a>
            </li>
            <li>
                <a data-section="toolkitvisualizations" href="#toolkitvisualizations">
                    <span class="icon-bar-beside"></span>
                    Toolkit Visualizations
                </a>
            </li>
            <li>
                <a data-section="examples" href="#examples">
                    <span class="icon-report"></span>
                    Examples
                </a>
            </li>
            <li>
                <a data-section="reference" href="#reference">
                    <span class="icon-bookmark"></span>
                    Reference
                </a>
            </li>
            <li>
                <a data-section="learnmore" href="#learnmore">
                    <span class="icon-info"></span>
                    Learn More
                </a>
            </li>
        </ul>
    </div>
    <div id="basiccomponents">
        <h3><span class="icon-distributed-environment"></span>Basic Components</h3>
        <p>Using basic Splunk components in your app</p>
        <div id="basiccomponents-list" class="toolkit-item-list">
        </div>
    </div>
    <div id="toolkitvisualizations">
        <h3><span class="icon-bar-beside"></span>Toolkit Visualizations</h3>
        <p>Components available in the Toolkit</p>
        <div id="toolkitvisualizations-list" class="toolkit-item-list">
            <!-- Tooklkit Visualizations pages here -->
        </div>
    </div>
    <div id="examples">
        <h3><span class="icon-report"></span>Examples</h3>
        <p>Splunk Web Framework Examples</p>
        <div id="examples-list" class="toolkit-item-list">
            <!-- Examples pages here -->
        </div>
    </div>
    <div id="reference">
        <h3><span class="icon-bookmark"></span>Reference</h3>
        <p>Information on using the Splunk Web Framework</p>
        <div id="reference-list" class="toolkit-item-list">
            <!-- Reference pages here -->
        </div>
    </div>
    <div id="learnmore">
        <h3><span class="icon-info"></span>Learn more</h3>
        <p>Where to learn more and get help</p>
        <div id="learnmore-list" class="toolkit-item-list">
            <a class="external" href="http://dev.splunk.com">Splunk Developer Portal</a>
        </div>
    </div>
</div>
            
{% endblock content%}

{% block js %}   
    <script id="item-template" type="text/template">
        <div class="toolkit-item">
            <a class="sample-link" href="../<%= id %>">
                <img class="item-thumb" src="<%= staticUrl %>splunk_wftoolkit/img/<%= id %>.png">
                <div class="sample-item-content">
                    <h4><%= title %></h4>
                    <p class="descrition"><%= description %></p>
                    <p class="view-button">View</p>
                </div>
            </a>
        </div>
    </script> 
    <script>

        require(['jquery', 'underscore'], function($, _) {
            $(function(){

                // Set up smooth scrolling
                // taken from: http://stackoverflow.com/questions/7717527/jquery-smooth-scrolling-when-clicking-an-anchor-link
                $('a').click(function(){
                    $('html, body').animate({
                        scrollTop: $( $.attr(this, 'href') ).offset().top
                    }, 500);
                    return false;
                });

                var staticUrl = '{{STATIC_URL}}';
                $.getJSON(staticUrl + 'splunk_wftoolkit/json/navinfo.json', function(navdata){
                     var template = _.template( $('#item-template').html() ); 
                    _.each(navdata, function(item){
                        var $sectionList = $('#' + (item['section'] || 'learnmore' ) + '-list');
                        $sectionList.append( template(_.extend(item,{staticUrl: staticUrl})));
                    });
                })
                .fail(function(jqxhr, textStatus, error ) {
                    var err = textStatus + ", " + error;
                    console.log( "Request Failed: " + err );
                })
            });
        });
    </script>
{% endblock js %}
